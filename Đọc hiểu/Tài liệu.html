<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T√†i Li·ªáu ƒê·ªçc Hi·ªÉu - Queue Management System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: rgba(255, 255, 255, 0.95);
            margin-top: 20px;
            margin-bottom: 20px;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 2.5em;
            background: linear-gradient(45deg, #3498db, #8e44ad);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        h2 {
            color: #e74c3c;
            border-left: 5px solid #e74c3c;
            padding-left: 15px;
            margin: 30px 0 20px 0;
            font-size: 1.8em;
        }

        h3 {
            color: #3498db;
            margin: 25px 0 15px 0;
            font-size: 1.4em;
            border-bottom: 2px solid #3498db;
            padding-bottom: 5px;
        }

        h4 {
            color: #27ae60;
            margin: 20px 0 10px 0;
            font-size: 1.2em;
        }

        .tech-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .tech-card {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            padding: 20px;
            border-radius: 10px;
            color: white;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .tech-card:hover {
            transform: translateY(-5px);
        }

        .tech-card h4 {
            color: #fff;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .concept-box {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            border-left: 4px solid #17a2b8;
        }

        .file-section {
            background: #fff;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .file-path {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 8px 12px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            margin-bottom: 10px;
            display: inline-block;
        }

        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            border-left: 4px solid #3498db;
        }

        .warning-box {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #f39c12;
        }

        .success-box {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #28a745;
        }

        .info-box {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #17a2b8;
        }

        .workflow-diagram {
            background: #fff;
            border: 2px solid #3498db;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }

        .arrow {
            color: #e74c3c;
            font-size: 1.5em;
            margin: 0 10px;
        }

        .component-flow {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .component {
            background: #3498db;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            margin: 5px;
            font-weight: bold;
        }

        .toc {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .toc ul {
            list-style-type: none;
            padding-left: 0;
        }

        .toc li {
            margin: 8px 0;
            padding-left: 20px;
            position: relative;
        }

        .toc li:before {
            content: "‚ñ∂";
            position: absolute;
            left: 0;
            color: #3498db;
        }

        .toc a {
            color: #2c3e50;
            text-decoration: none;
            font-weight: 500;
        }

        .toc a:hover {
            color: #3498db;
            text-decoration: underline;
        }

        ul, ol {
            padding-left: 30px;
            margin: 10px 0;
        }

        li {
            margin: 5px 0;
        }

        .highlight {
            background: #fff3cd;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: bold;
        }

        .folder-structure {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
        }

        .folder {
            color: #f39c12;
            font-weight: bold;
        }

        .file {
            color: #27ae60;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
            }

            h1 {
                font-size: 2em;
            }

            .tech-grid {
                grid-template-columns: 1fr;
            }

            .component-flow {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìö T√†i Li·ªáu ƒê·ªçc Hi·ªÉu - Queue Management System</h1>
        
        <div class="toc">
            <h3>üìã M·ª•c L·ª•c</h3>
            <ul>
                <li><a href="#gioi-thieu">1. Gi·ªõi Thi·ªáu C√¥ng Ngh·ªá S·ª≠ D·ª•ng</a></li>
                <li><a href="#khai-niem">2. Gi·∫£i Th√≠ch Kh√°i Ni·ªám Quan Tr·ªçng</a></li>
                <li><a href="#cau-truc">3. C·∫•u Tr√∫c D·ª± √Ån & Vai Tr√≤ T·ª´ng File</a></li>
                <li><a href="#so-do">4. S∆° ƒê·ªì Workflow & Ki·∫øn Tr√∫c</a></li>
                <li><a href="#cleanup">5. Project Cleanup & Optimization</a></li>
            </ul>
        </div>

        <section id="gioi-thieu">
            <h2>üöÄ 1. Gi·ªõi Thi·ªáu C√¥ng Ngh·ªá S·ª≠ D·ª•ng</h2>
            
            <div class="tech-grid">
                <div class="tech-card">
                    <h4>üåê Frontend Technologies</h4>
                    <ul>
                        <li><strong>React 18.2.0:</strong> Library JavaScript ƒë·ªÉ x√¢y d·ª±ng giao di·ªán ng∆∞·ªùi d√πng (UI) t∆∞∆°ng t√°c</li>
                        <li><strong>React Router DOM:</strong> Qu·∫£n l√Ω ƒëi·ªÅu h∆∞·ªõng (routing) trong ·ª©ng d·ª•ng Single Page Application</li>
                        <li><strong>Axios:</strong> Th∆∞ vi·ªán HTTP client ƒë·ªÉ g·ªçi API t·ª´ frontend ƒë·∫øn backend</li>
                        <li><strong>Socket.IO Client:</strong> K·∫øt n·ªëi WebSocket real-time v·ªõi backend</li>
                        <li><strong>Tailwind CSS:</strong> Framework CSS utility-first cho styling nhanh</li>
                    </ul>
                </div>

                <div class="tech-card">
                    <h4>‚öôÔ∏è Backend Technologies</h4>
                    <ul>
                        <li><strong>FastAPI:</strong> Python web framework hi·ªán ƒë·∫°i, nhanh, h·ªó tr·ª£ async/await</li>
                        <li><strong>SQLAlchemy:</strong> ORM (Object Relational Mapping) ƒë·ªÉ t∆∞∆°ng t√°c v·ªõi database</li>
                        <li><strong>PostgreSQL:</strong> H·ªá qu·∫£n tr·ªã c∆° s·ªü d·ªØ li·ªáu quan h·ªá m·∫°nh m·∫Ω</li>
                        <li><strong>Redis:</strong> In-memory database d√πng cho cache v√† WebSocket</li>
                        <li><strong>Uvicorn:</strong> ASGI server ƒë·ªÉ ch·∫°y FastAPI</li>
                    </ul>
                </div>

                <div class="tech-card">
                    <h4>üê≥ DevOps & Infrastructure</h4>
                    <ul>
                        <li><strong>Docker:</strong> Containerization platform ƒë·ªÉ ƒë√≥ng g√≥i ·ª©ng d·ª•ng</li>
                        <li><strong>Docker Compose:</strong> Tool ƒë·ªÉ ƒë·ªãnh nghƒ©a v√† ch·∫°y multi-container Docker applications</li>
                        <li><strong>Volume:</strong> L∆∞u tr·ªØ persistent data cho containers</li>
                        <li><strong>Direct Port Exposure:</strong> Development setup kh√¥ng s·ª≠ d·ª•ng reverse proxy</li>
                    </ul>
                </div>

                <div class="tech-card">
                    <h4>üì° Communication</h4>
                    <ul>
                        <li><strong>REST API:</strong> Ki·∫øn tr√∫c giao ti·∫øp HTTP gi·ªØa frontend v√† backend</li>
                        <li><strong>WebSocket:</strong> Giao th·ª©c real-time bidirectional communication</li>
                        <li><strong>CORS:</strong> Cross-Origin Resource Sharing cho ph√©p frontend g·ªçi API</li>
                        <li><strong>JWT:</strong> JSON Web Token ƒë·ªÉ authentication v√† authorization</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="khai-niem">
            <h2>üß† 2. Gi·∫£i Th√≠ch Kh√°i Ni·ªám Quan Tr·ªçng</h2>

            <div class="concept-box">
                <h4>üîå API (Application Programming Interface)</h4>
                <p>Giao di·ªán l·∫≠p tr√¨nh ·ª©ng d·ª•ng - l√† c√°ch th·ª©c c√°c ph·∫ßn m·ªÅm kh√°c nhau giao ti·∫øp v·ªõi nhau. Trong d·ª± √°n n√†y:</p>
                <ul>
                    <li><strong>REST API:</strong> S·ª≠ d·ª•ng HTTP methods (GET, POST, PUT, DELETE) ƒë·ªÉ th·ª±c hi·ªán CRUD operations</li>
                    <li><strong>Endpoint:</strong> URL c·ª• th·ªÉ ƒë·ªÉ truy c·∫≠p m·ªôt ch·ª©c nƒÉng (v√≠ d·ª•: <code>/api/v1/tickets</code>)</li>
                    <li><strong>Request/Response:</strong> Frontend g·ª≠i request, backend tr·∫£ v·ªÅ response (th∆∞·ªùng l√† JSON)</li>
                </ul>
            </div>

            <div class="concept-box">
                <h4>üé≠ Context API</h4>
                <p>React Context cho ph√©p chia s·∫ª state gi·ªØa c√°c components m√† kh√¥ng c·∫ßn prop drilling:</p>
                <ul>
                    <li><strong>AuthContext:</strong> Qu·∫£n l√Ω tr·∫°ng th√°i ƒëƒÉng nh·∫≠p c·ªßa user</li>
                    <li><strong>WebSocketContext:</strong> Qu·∫£n l√Ω k·∫øt n·ªëi real-time v·ªõi server</li>
                    <li><strong>Provider:</strong> B·ªçc c√°c components ƒë·ªÉ cung c·∫•p access ƒë·∫øn context</li>
                </ul>
            </div>

            <div class="concept-box">
                <h4>üîÑ State Management</h4>
                <p>Qu·∫£n l√Ω tr·∫°ng th√°i c·ªßa ·ª©ng d·ª•ng:</p>
                <ul>
                    <li><strong>Local State:</strong> State ch·ªâ trong m·ªôt component (useState)</li>
                    <li><strong>Global State:</strong> State chia s·∫ª qua Context ho·∫∑c Redux</li>
                    <li><strong>useReducer:</strong> Qu·∫£n l√Ω state ph·ª©c t·∫°p v·ªõi reducer pattern</li>
                </ul>
            </div>

            <div class="concept-box">
                <h4>üåê WebSocket</h4>
                <p>Giao th·ª©c cho ph√©p giao ti·∫øp real-time hai chi·ªÅu:</p>
                <ul>
                    <li><strong>Connection:</strong> K·∫øt n·ªëi persistent gi·ªØa client v√† server</li>
                    <li><strong>Broadcasting:</strong> Server g·ª≠i th√¥ng tin ƒë·∫øn nhi·ªÅu clients c√πng l√∫c</li>
                    <li><strong>Events:</strong> C√°c s·ª± ki·ªán nh∆∞ queue_update, ticket_called</li>
                </ul>
            </div>

            <div class="concept-box">
                <h4>üê≥ Container & Docker</h4>
                <p>C√¥ng ngh·ªá containerization:</p>
                <ul>
                    <li><strong>Container:</strong> M√¥i tr∆∞·ªùng isolated ch·ª©a ·ª©ng d·ª•ng v√† dependencies</li>
                    <li><strong>Image:</strong> Template ƒë·ªÉ t·∫°o container</li>
                    <li><strong>Volume:</strong> L∆∞u tr·ªØ data persistent, kh√¥ng b·ªã m·∫•t khi container restart</li>
                    <li><strong>Network:</strong> K·∫øt n·ªëi gi·ªØa c√°c containers</li>
                </ul>
            </div>
        </section>

        <section id="cau-truc">
            <h2>üèóÔ∏è 3. C·∫•u Tr√∫c D·ª± √Ån & Vai Tr√≤ T·ª´ng File</h2>

            <h3>üì± Frontend Structure</h3>
            
            <div class="file-section">
                <div class="file-path">frontend/src/App.js</div>
                <h4>üéØ M·ª•c ƒë√≠ch:</h4>
                <p>Root component c·ªßa to√†n b·ªô ·ª©ng d·ª•ng React, thi·∫øt l·∫≠p c√°c Provider v√† Router ch√≠nh.</p>
                
                <h4>üîß C√¥ng ngh·ªá s·ª≠ d·ª•ng:</h4>
                <ul>
                    <li>React Router (BrowserRouter)</li>
                    <li>Context API (AuthProvider, WebSocketProvider)</li>
                </ul>

                <h4>üîó Quan h·ªá v·ªõi file kh√°c:</h4>
                <ul>
                    <li>Import <code>AppRoutes</code> t·ª´ routes/AppRoutes.js</li>
                    <li>Import <code>AuthProvider</code> t·ª´ shared/AuthContext.js</li>
                    <li>Import <code>WebSocketProvider</code> t·ª´ shared/WebSocketContext.js</li>
                </ul>

                <h4>‚ö° Function ch√≠nh & Workflow:</h4>
                <div class="code-block">
function App() {
  return (
    &lt;Router&gt;                    // B·∫≠t routing cho to√†n app
      &lt;AuthProvider&gt;           // Cung c·∫•p auth state cho to√†n app
        &lt;WebSocketProvider&gt;    // Cung c·∫•p WebSocket connection
          &lt;AppRoutes /&gt;        // Render c√°c routes
        &lt;/WebSocketProvider&gt;
      &lt;/AuthProvider&gt;
    &lt;/Router&gt;
  );
}
                </div>

                <div class="warning-box">
                    <strong>‚ùå N·∫øu x√≥a file n√†y:</strong> To√†n b·ªô ·ª©ng d·ª•ng s·∫Ω kh√¥ng ho·∫°t ƒë·ªông v√¨ ƒë√¢y l√† entry point ch√≠nh.
                </div>
            </div>

            <div class="file-section">
                <div class="file-path">frontend/src/routes/AppRoutes.js</div>
                <h4>üéØ M·ª•c ƒë√≠ch:</h4>
                <p>ƒê·ªãnh nghƒ©a t·∫•t c·∫£ routes/URLs c·ªßa ·ª©ng d·ª•ng v√† x·ª≠ l√Ω authentication-based routing.</p>
                
                <h4>üîß C√¥ng ngh·ªá s·ª≠ d·ª•ng:</h4>
                <ul>
                    <li>React Router (Routes, Route, Navigate)</li>
                    <li>Custom hook useAuth t·ª´ AuthContext</li>
                </ul>

                <h4>‚ö° Function ch√≠nh & Workflow:</h4>
                <ol>
                    <li><strong>ProtectedRoute component:</strong> Ki·ªÉm tra authentication v√† authorization</li>
                    <li><strong>Public routes:</strong> /, /login, /display, /service-registration</li>
                    <li><strong>Protected routes:</strong> /staff, /manager, /admin (c√≥ role-based access)</li>
                </ol>

                <div class="code-block">
const ProtectedRoute = ({ children, allowedRoles }) =&gt; {
  const { user, isAuthenticated, loading } = useAuth();
  
  if (loading) return &lt;LoadingSpinner /&gt;;
  if (!isAuthenticated) return &lt;Navigate to="/login" /&gt;;
  if (allowedRoles && !allowedRoles.includes(user.role)) {
    return &lt;Navigate to="/login" /&gt;;
  }
  return children;
};
                </div>

                <div class="info-box">
                    <strong>üí° Kh√°i ni·ªám quan tr·ªçng:</strong> Role-based access control (RBAC) ƒë∆∞·ª£c implement ·ªü ƒë√¢y, ƒë·∫£m b·∫£o user ch·ªâ truy c·∫≠p ƒë∆∞·ª£c c√°c trang ph√π h·ª£p v·ªõi role c·ªßa m√¨nh.
                </div>
            </div>

            <div class="file-section">
                <div class="file-path">frontend/src/shared/AuthContext.js</div>
                <h4>üéØ M·ª•c ƒë√≠ch:</h4>
                <p>Qu·∫£n l√Ω global authentication state cho to√†n b·ªô ·ª©ng d·ª•ng s·ª≠ d·ª•ng Context API v√† useReducer pattern.</p>
                
                <h4>üîß C√¥ng ngh·ªá s·ª≠ d·ª•ng:</h4>
                <ul>
                    <li>React Context API</li>
                    <li>useReducer hook</li>
                    <li>localStorage API</li>
                    <li>Fetch API</li>
                </ul>

                <h4>‚ö° Function ch√≠nh & Workflow:</h4>
                <ol>
                    <li><strong>authReducer:</strong> Pure function x·ª≠ l√Ω state changes</li>
                    <li><strong>login function:</strong> G·ªçi API login, l∆∞u token v√† user info</li>
                    <li><strong>logout function:</strong> Clear token v√† user info</li>
                    <li><strong>Auto-login:</strong> Check localStorage khi app kh·ªüi ƒë·ªông</li>
                </ol>

                <div class="code-block">
const authReducer = (state, action) =&gt; {
  switch (action.type) {
    case 'LOGIN_SUCCESS':
      return {
        ...state,
        user: action.payload,
        isAuthenticated: true,
        loading: false,
        error: null
      };
    case 'LOGOUT':
      return {
        ...state,
        user: null,
        isAuthenticated: false,
        loading: false,
        error: null
      };
    // ... other cases
  }
};
                </div>

                <div class="warning-box">
                    <strong>‚ùå N·∫øu x√≥a file n√†y:</strong> To√†n b·ªô h·ªá th·ªëng authentication s·∫Ω b·ªã h·ªèng, kh√¥ng th·ªÉ ƒëƒÉng nh·∫≠p ho·∫∑c ph√¢n quy·ªÅn user.
                </div>
            </div>

            <div class="file-section">
                <div class="file-path">frontend/src/shared/WebSocketContext.js</div>
                <h4>üéØ M·ª•c ƒë√≠ch:</h4>
                <p>Qu·∫£n l√Ω WebSocket connection cho real-time communication v·ªõi backend, broadcast queue updates.</p>
                
                <h4>üîß C√¥ng ngh·ªá s·ª≠ d·ª•ng:</h4>
                <ul>
                    <li>Socket.IO Client</li>
                    <li>React Context API</li>
                    <li>useEffect v√† useState hooks</li>
                </ul>

                <h4>‚ö° Function ch√≠nh & Workflow:</h4>
                <ol>
                    <li><strong>Connection management:</strong> T·ª± ƒë·ªông k·∫øt n·ªëi/ng·∫Øt k·∫øt n·ªëi</li>
                    <li><strong>Event listeners:</strong> L·∫Øng nghe c√°c events t·ª´ server</li>
                    <li><strong>Message broadcasting:</strong> Emit messages ƒë·∫øn server</li>
                    <li><strong>Reconnection:</strong> T·ª± ƒë·ªông k·∫øt n·ªëi l·∫°i khi connection b·ªã drop</li>
                </ol>

                <div class="info-box">
                    <strong>üí° Real-time features:</strong> File n√†y enable c√°c t√≠nh nƒÉng real-time nh∆∞ c·∫≠p nh·∫≠t queue status, th√¥ng b√°o ticket ƒë∆∞·ª£c g·ªçi, sync data gi·ªØa c√°c m√†n h√¨nh.
                </div>
            </div>

            <div class="file-section">
                <div class="file-path">frontend/package.json</div>
                <h4>üéØ M·ª•c ƒë√≠ch:</h4>
                <p>ƒê·ªãnh nghƒ©a metadata c·ªßa project, dependencies, scripts v√† configuration.</p>
                
                <h4>üîß Dependencies quan tr·ªçng:</h4>
                <ul>
                    <li><strong>react, react-dom:</strong> Core React libraries</li>
                    <li><strong>react-router-dom:</strong> Client-side routing</li>
                    <li><strong>axios:</strong> HTTP client cho API calls</li>
                    <li><strong>socket.io-client:</strong> WebSocket client</li>
                    <li><strong>react-query:</strong> Data fetching v√† caching</li>
                    <li><strong>framer-motion:</strong> Animation library</li>
                    <li><strong>qrcode, qrcode.react:</strong> QR code generation</li>
                </ul>

                <h4>‚ö° Scripts:</h4>
                <div class="code-block">
"scripts": {
  "start": "react-scripts start",     // Ch·∫°y development server
  "build": "react-scripts build",    // Build production
  "test": "react-scripts test",      // Ch·∫°y tests
  "eject": "react-scripts eject"     // Eject t·ª´ Create React App
}
                </div>
            </div>

            <div class="file-section">
                <div class="file-path">frontend/src/shared/api.js</div>
                <h4>üéØ M·ª•c ƒë√≠ch:</h4>
                <p>Centralized API service class ch·ª©a t·∫•t c·∫£ c√°c API calls t·ª´ frontend ƒë·∫øn backend.</p>
                
                <h4>üîß C√¥ng ngh·ªá s·ª≠ d·ª•ng:</h4>
                <ul>
                    <li>Fetch API</li>
                    <li>JWT token handling</li>
                    <li>Error handling v√† retry logic</li>
                </ul>

                <h4>‚ö° Function ch√≠nh & Workflow:</h4>
                <ol>
                    <li><strong>makeRequest:</strong> Base method cho t·∫•t c·∫£ API calls</li>
                    <li><strong>Authentication APIs:</strong> login, logout, getProfile</li>
                    <li><strong>Ticket APIs:</strong> createTicket, getTicket, updateTicketStatus</li>
                    <li><strong>Department & Service APIs:</strong> getDepartments, getServices</li>
                </ol>

                <div class="code-block">
class ApiService {
  async makeRequest(endpoint, options = {}) {
    const token = localStorage.getItem('token');
    const headers = {
      'Content-Type': 'application/json',
      ...(token && { 'Authorization': `Bearer ${token}` }),
      ...options.headers,
    };
    
    const response = await fetch(`${this.baseURL}${endpoint}`, {
      ...options,
      headers,
    });
    
    if (!response.ok) {
      throw new Error(`API Error: ${response.status}`);
    }
    
    return response.json();
  }
}
                </div>

                <div class="warning-box">
                    <strong>‚ùå N·∫øu x√≥a file n√†y:</strong> To√†n b·ªô communication gi·ªØa frontend v√† backend s·∫Ω b·ªã h·ªèng.
                </div>
            </div>

            <div class="file-section">
                <div class="file-path">frontend/src/features/dashboard/pages/StaffDashboard.js</div>
                <h4>üéØ M·ª•c ƒë√≠ch:</h4>
                <p>Dashboard ch√≠nh cho nh√¢n vi√™n qu·∫£n l√Ω queue, g·ªçi kh√°ch h√†ng v√† x·ª≠ l√Ω tickets.</p>
                
                <h4>üîß C√¥ng ngh·ªá s·ª≠ d·ª•ng:</h4>
                <ul>
                    <li>React Hooks (useState, useEffect, useCallback)</li>
                    <li>Framer Motion cho animations</li>
                    <li>WebSocket cho real-time updates</li>
                    <li>ApiClient cho backend communication</li>
                </ul>

                <h4>‚ö° Function ch√≠nh & Workflow:</h4>
                <ol>
                    <li><strong>Queue Management:</strong> Hi·ªÉn th·ªã danh s√°ch tickets ƒëang ch·ªù</li>
                    <li><strong>Call Ticket:</strong> G·ªçi ticket ti·∫øp theo trong queue</li>
                    <li><strong>Complete Service:</strong> Ho√†n th√†nh ph·ª•c v·ª• kh√°ch h√†ng</li>
                    <li><strong>Real-time Updates:</strong> Nh·∫≠n c·∫≠p nh·∫≠t queue qua WebSocket</li>
                </ol>

                <div class="code-block">
const callNextTicket = async (ticket) => {
  try {
    await api.updateTicketStatus(ticket.id, 'called');
    setCurrentTicket(ticket);
    
    // Broadcast qua WebSocket
    if (socket) {
      socket.emit('ticket_called', {
        ticketId: ticket.id,
        ticketNumber: ticket.ticket_number
      });
    }
  } catch (error) {
    setNotificationMessage('L·ªói khi g·ªçi kh√°ch h√†ng');
    setShowNotificationModal(true);
  }
};
                </div>

                <div class="info-box">
                    <strong>üí° Key Features:</strong> Real-time queue updates, ticket status management, performance tracking, animation feedback cho user actions.
                </div>
            </div>

            <div class="file-section">
                <div class="file-path">frontend/src/features/dashboard/pages/ManagerDashboard.js</div>
                <h4>üéØ M·ª•c ƒë√≠ch:</h4>
                <p>Dashboard cho manager theo d√µi t·ªïng quan operations, qu·∫£n l√Ω staff v√† xem b√°o c√°o.</p>
                
                <h4>üîß C√¥ng ngh·ªá s·ª≠ d·ª•ng:</h4>
                <ul>
                    <li>React v·ªõi complex state management</li>
                    <li>Chart libraries cho data visualization</li>
                    <li>Modal components cho user interactions</li>
                </ul>

                <h4>‚ö° Function ch√≠nh & Workflow:</h4>
                <ol>
                    <li><strong>Overview Analytics:</strong> T·ªïng quan statistics c·ªßa department</li>
                    <li><strong>Staff Management:</strong> Theo d√µi performance nh√¢n vi√™n</li>
                    <li><strong>Queue Monitoring:</strong> Gi√°m s√°t t·∫•t c·∫£ queues trong department</li>
                    <li><strong>Complaints Handling:</strong> X·ª≠ l√Ω ph·∫£n h·ªìi kh√°ch h√†ng</li>
                </ol>

                <div class="info-box">
                    <strong>üí° Manager Features:</strong> Multi-department overview, staff performance analytics, complaint resolution, real-time monitoring.
                </div>
            </div>

            <div class="file-section">
                <div class="file-path">frontend/src/features/dashboard/pages/AdminDashboard.js</div>
                <h4>üéØ M·ª•c ƒë√≠ch:</h4>
                <p>Dashboard cao nh·∫•t cho system admin qu·∫£n l√Ω to√†n b·ªô h·ªá th·ªëng, users v√† configuration.</p>
                
                <h4>‚ö° Function ch√≠nh & Workflow:</h4>
                <ol>
                    <li><strong>System Overview:</strong> T·ªïng quan to√†n h·ªá th·ªëng</li>
                    <li><strong>User Management:</strong> CRUD operations cho users</li>
                    <li><strong>Department Management:</strong> Qu·∫£n l√Ω ph√≤ng ban v√† services</li>
                    <li><strong>System Configuration:</strong> Settings v√† maintenance</li>
                </ol>

                <div class="warning-box">
                    <strong>‚ö†Ô∏è Admin Privileges:</strong> Full system access, c√≥ th·ªÉ create/update/delete t·∫•t c·∫£ entities, access sensitive data.
                </div>
            </div>

            <div class="file-section">
                <div class="file-path">frontend/src/shared/components/DashboardLayout.js</div>
                <h4>üéØ M·ª•c ƒë√≠ch:</h4>
                <p>Layout component chung cho t·∫•t c·∫£ dashboard pages, cung c·∫•p navigation v√† sidebar.</p>
                
                <h4>üîß C√¥ng ngh·ªá s·ª≠ d·ª•ng:</h4>
                <ul>
                    <li>React Router cho navigation</li>
                    <li>Responsive design v·ªõi Tailwind CSS</li>
                    <li>Role-based navigation items</li>
                </ul>

                <h4>‚ö° Function ch√≠nh & Workflow:</h4>
                <ol>
                    <li><strong>Role-based Navigation:</strong> Hi·ªÉn th·ªã menu ph√π h·ª£p v·ªõi user role</li>
                    <li><strong>Layout Structure:</strong> Sidebar, header, main content area</li>
                    <li><strong>User Actions:</strong> Logout, profile access</li>
                </ol>

                <div class="code-block">
const getNavigationItems = () => {
  const baseItems = [];
  
  if (user) {
    switch (user.role) {
      case 'admin':
        baseItems.push(
          { name: 'Dashboard', path: '/admin', icon: 'fa-tachometer-alt' },
          { name: 'Ng∆∞·ªùi d√πng', path: '/admin/users', icon: 'fa-users' },
          { name: 'Ph√≤ng ban', path: '/admin/departments', icon: 'fa-building' }
        );
        break;
      case 'manager':
        baseItems.push(
          { name: 'T·ªïng quan', path: '/manager', icon: 'fa-chart-line' },
          { name: 'Nh√¢n vi√™n', path: '/manager/staff', icon: 'fa-users' }
        );
        break;
      case 'staff':
        baseItems.push(
          { name: 'H√†ng ƒë·ª£i', path: '/staff', icon: 'fa-list' },
          { name: 'V√© hi·ªán t·∫°i', path: '/staff/current', icon: 'fa-ticket-alt' }
        );
        break;
    }
  }
  
  return baseItems;
};
                </div>
            </div>

            <h3>üîß Backend Structure</h3>

            <div class="file-section">
                <div class="file-path">backend/app/main.py</div>
                <h4>üéØ M·ª•c ƒë√≠ch:</h4>
                <p>Entry point c·ªßa FastAPI application, setup CORS, WebSocket, database v√† include c√°c router.</p>
                
                <h4>üîß C√¥ng ngh·ªá s·ª≠ d·ª•ng:</h4>
                <ul>
                    <li>FastAPI framework</li>
                    <li>CORS middleware</li>
                    <li>WebSocket support</li>
                    <li>Redis async client</li>
                    <li>Lifespan events</li>
                </ul>

                <h4>‚ö° Function ch√≠nh & Workflow:</h4>
                <ol>
                    <li><strong>lifespan function:</strong> Startup/shutdown events</li>
                    <li><strong>CORS setup:</strong> Allow cross-origin requests t·ª´ frontend</li>
                    <li><strong>WebSocket endpoint:</strong> /ws/{client_id} cho real-time</li>
                    <li><strong>API router inclusion:</strong> Include t·∫•t c·∫£ API endpoints</li>
                </ol>

                <div class="code-block">
@app.websocket("/ws/{client_id}")
async def websocket_endpoint(websocket: WebSocket, client_id: str):
    try:
        await websocket.accept()
        success = await websocket_manager.connect(websocket, client_id)
        
        while True:
            data = await websocket.receive_text()
            # Handle WebSocket messages
    except WebSocketDisconnect:
        websocket_manager.disconnect(client_id)
                </div>
            </div>

            <div class="file-section">
                <div class="file-path">backend/app/api/v1/tickets.py</div>
                <h4>üéØ M·ª•c ƒë√≠ch:</h4>
                <p>API endpoints ch√≠nh cho ticket management - CRUD operations v√† queue logic.</p>
                
                <h4>üîß C√¥ng ngh·ªá s·ª≠ d·ª•ng:</h4>
                <ul>
                    <li>FastAPI Router</li>
                    <li>SQLAlchemy ORM queries</li>
                    <li>Pydantic schemas cho validation</li>
                    <li>JWT authentication dependencies</li>
                </ul>

                <h4>‚ö° Function ch√≠nh & Workflow:</h4>
                <ol>
                    <li><strong>POST /tickets:</strong> T·∫°o ticket m·ªõi cho customer</li>
                    <li><strong>GET /tickets/{ticket_id}/status:</strong> Check ticket status cho waiting page</li>
                    <li><strong>PUT /tickets/{ticket_id}/call:</strong> Staff call ticket</li>
                    <li><strong>GET /tickets/department/{dept_id}/queue:</strong> L·∫•y queue cho department</li>
                </ol>

                <div class="code-block">
@router.post("/tickets")
async def create_ticket(
    ticket_data: TicketCreate,
    db: Session = Depends(get_db)
):
    # Generate ticket number (A001, B002, etc.)
    ticket_number = generate_ticket_number(ticket_data.service_id)
    
    # Create ticket in database
    new_ticket = QueueTicket(
        ticket_number=ticket_number,
        customer_name=ticket_data.customer_name,
        service_id=ticket_data.service_id,
        department_id=ticket_data.department_id,
        status=TicketStatus.WAITING
    )
    
    db.add(new_ticket)
    db.commit()
    
    # Broadcast to WebSocket clients
    await websocket_manager.broadcast({
        "type": "new_ticket",
        "ticket": ticket_to_dict(new_ticket)
    })
    
    return new_ticket
                </div>

                <div class="info-box">
                    <strong>üí° Queue Logic:</strong> FIFO (First In, First Out) ordering, automatic ticket numbering, real-time status updates qua WebSocket.
                </div>
            </div>

            <div class="file-section">
                <div class="file-path">backend/app/api/v1/auth.py</div>
                <h4>üéØ M·ª•c ƒë√≠ch:</h4>
                <p>Authentication v√† authorization endpoints - login, token management.</p>
                
                <h4>üîß C√¥ng ngh·ªá s·ª≠ d·ª•ng:</h4>
                <ul>
                    <li>JWT tokens (python-jose)</li>
                    <li>Password hashing (bcrypt)</li>
                    <li>OAuth2 scheme</li>
                </ul>

                <h4>‚ö° Function ch√≠nh & Workflow:</h4>
                <ol>
                    <li><strong>POST /auth/login:</strong> Authenticate user v√† return JWT</li>
                    <li><strong>POST /auth/refresh:</strong> Refresh expired tokens</li>
                    <li><strong>Dependencies:</strong> get_current_user cho protected routes</li>
                </ol>

                <div class="code-block">
@router.post("/auth/login")
async def login(
    credentials: UserLogin,
    db: Session = Depends(get_db)
):
    # Verify user credentials
    user = authenticate_user(db, credentials.email, credentials.password)
    if not user:
        raise HTTPException(401, "Invalid credentials")
    
    # Create JWT token
    access_token = create_access_token(data={"sub": str(user.id)})
    
    return {
        "access_token": access_token,
        "token_type": "bearer",
        "user": {
            "id": user.id,
            "email": user.email,
            "role": user.role,
            "name": user.name
        }
    }
                </div>
            </div>

            <div class="file-section">
                <div class="file-path">backend/app/api/v1/dashboard.py</div>
                <h4>üéØ M·ª•c ƒë√≠ch:</h4>
                <p>Dashboard statistics v√† analytics endpoints cho c√°c role kh√°c nhau.</p>
                
                <h4>‚ö° Function ch√≠nh & Workflow:</h4>
                <ol>
                    <li><strong>GET /dashboard/stats:</strong> T·ªïng quan statistics (tickets today, queue status)</li>
                    <li><strong>GET /dashboard/department/{id}/stats:</strong> Department-specific stats</li>
                    <li><strong>Role-based data filtering:</strong> Staff ch·ªâ th·∫•y department data</li>
                </ol>

                <div class="code-block">
@router.get("/stats", response_model=DashboardStats)
async def get_dashboard_stats(
    db: AsyncSession = Depends(get_db),
    current_user: User = Depends(get_current_user)
):
    today = datetime.now().date()
    
    # Total tickets today
    total_tickets_today = await db.execute(
        select(func.count(QueueTicket.id))
        .where(func.date(QueueTicket.created_at) == today)
    )
    
    # Current waiting tickets
    waiting_tickets = await db.execute(
        select(func.count(QueueTicket.id))
        .where(QueueTicket.status == TicketStatus.WAITING)
    )
    
    return DashboardStats(
        tickets_today=total_tickets_today.scalar(),
        waiting_count=waiting_tickets.scalar(),
        average_wait_time=calculate_average_wait_time()
    )
                </div>
            </div>

            <div class="file-section">
                <div class="file-path">backend/app/websocket_manager.py</div>
                <h4>üéØ M·ª•c ƒë√≠ch:</h4>
                <p>Qu·∫£n l√Ω WebSocket connections v√† message broadcasting cho real-time features.</p>
                
                <h4>üîß C√¥ng ngh·ªá s·ª≠ d·ª•ng:</h4>
                <ul>
                    <li>FastAPI WebSocket</li>
                    <li>Async/await pattern</li>
                    <li>Connection management</li>
                </ul>

                <h4>‚ö° Function ch√≠nh & Workflow:</h4>
                <ol>
                    <li><strong>connect(websocket, client_id):</strong> Add new WebSocket connection</li>
                    <li><strong>disconnect(client_id):</strong> Remove connection</li>
                    <li><strong>broadcast(message):</strong> Send message to all connected clients</li>
                    <li><strong>send_to_client(client_id, message):</strong> Send to specific client</li>
                </ol>

                <div class="code-block">
class WebSocketManager:
    def __init__(self):
        self.active_connections: Dict[str, WebSocket] = {}
    
    async def connect(self, websocket: WebSocket, client_id: str):
        await websocket.accept()
        self.active_connections[client_id] = websocket
        print(f"Client {client_id} connected. Total: {len(self.active_connections)}")
    
    def disconnect(self, client_id: str):
        if client_id in self.active_connections:
            del self.active_connections[client_id]
            print(f"Client {client_id} disconnected")
    
    async def broadcast(self, message: dict):
        if self.active_connections:
            message_str = json.dumps(message)
            disconnected_clients = []
            
            for client_id, connection in self.active_connections.items():
                try:
                    await connection.send_text(message_str)
                except:
                    disconnected_clients.append(client_id)
            
            # Clean up disconnected clients
            for client_id in disconnected_clients:
                self.disconnect(client_id)

websocket_manager = WebSocketManager()
                </div>

                <div class="info-box">
                    <strong>üí° Real-time Events:</strong> ticket_created, ticket_called, queue_update, staff_notification ƒë∆∞·ª£c broadcast ƒë·∫øn t·∫•t c·∫£ connected clients.
                </div>
            </div>

            <div class="file-section">
                <div class="file-path">backend/app/models/</div>
                <h4>üéØ M·ª•c ƒë√≠ch:</h4>
                <p>SQLAlchemy models ƒë·ªãnh nghƒ©a database schema v√† relationships.</p>
                
                <h4>üîß Key Models:</h4>
                <ul>
                    <li><strong>User:</strong> Authentication, roles (admin/manager/staff)</li>
                    <li><strong>Department:</strong> Organizational units</li>
                    <li><strong>Service:</strong> Services offered by departments</li>
                    <li><strong>QueueTicket:</strong> Main ticket entity v·ªõi queue logic</li>
                    <li><strong>Feedback:</strong> Customer feedback v√† ratings</li>
                </ul>

                <div class="code-block">
class QueueTicket(Base):
    __tablename__ = "tickets"
    
    id = Column(Integer, primary_key=True, index=True)
    ticket_number = Column(String, unique=True, index=True)
    customer_name = Column(String, nullable=False)
    customer_phone = Column(String, nullable=True)
    service_id = Column(Integer, ForeignKey("services.id"))
    department_id = Column(Integer, ForeignKey("departments.id"))
    status = Column(Enum(TicketStatus), default=TicketStatus.WAITING)
    queue_position = Column(Integer, nullable=True)
    created_at = Column(DateTime, default=datetime.utcnow)
    called_at = Column(DateTime, nullable=True)
    completed_at = Column(DateTime, nullable=True)
    
    # Relationships
    service = relationship("Service", back_populates="tickets")
    department = relationship("Department", back_populates="tickets")
                </div>
            </div>

            <div class="file-section">
                <div class="file-path">backend/app/schemas/</div>
                <h4>üéØ M·ª•c ƒë√≠ch:</h4>
                <p>Pydantic schemas cho request/response validation v√† serialization.</p>
                
                <h4>üîß Key Schemas:</h4>
                <ul>
                    <li><strong>TicketCreate:</strong> Validation cho ticket creation</li>
                    <li><strong>TicketResponse:</strong> Serialize ticket data cho API response</li>
                    <li><strong>UserLogin:</strong> Login request validation</li>
                    <li><strong>DashboardStats:</strong> Dashboard statistics response</li>
                </ul>

                <div class="code-block">
class TicketCreate(BaseModel):
    customer_name: str = Field(..., min_length=1, max_length=100)
    customer_phone: Optional[str] = Field(None, regex=r'^\+?[1-9]\d{1,14}$')
    service_id: int = Field(..., gt=0)
    notes: Optional[str] = Field(None, max_length=500)

class TicketResponse(BaseModel):
    id: int
    ticket_number: str
    customer_name: str
    service_name: str
    department_name: str
    status: TicketStatus
    created_at: datetime
    estimated_wait_time: Optional[int] = None
    
    class Config:
        from_attributes = True
                </div>
            </div>

            <div class="file-section">
                <div class="file-path">backend/requirements.txt</div>
                <h4>üéØ M·ª•c ƒë√≠ch:</h4>
                <p>ƒê·ªãnh nghƒ©a t·∫•t c·∫£ Python dependencies c·∫ßn thi·∫øt cho backend.</p>
                
                <h4>üîß Dependencies ch√≠nh:</h4>
                <ul>
                    <li><strong>fastapi:</strong> Web framework ch√≠nh</li>
                    <li><strong>uvicorn:</strong> ASGI server</li>
                    <li><strong>sqlalchemy:</strong> ORM cho database operations</li>
                    <li><strong>psycopg2-binary:</strong> PostgreSQL adapter</li>
                    <li><strong>redis:</strong> Redis client</li>
                    <li><strong>python-jose:</strong> JWT handling</li>
                    <li><strong>passlib:</strong> Password hashing</li>
                </ul>
            </div>

            <h3>üóÑÔ∏è Database Structure</h3>

            <div class="file-section">
                <div class="file-path">database/schema.sql</div>
                <h4>üéØ M·ª•c ƒë√≠ch:</h4>
                <p>ƒê·ªãnh nghƒ©a c·∫•u tr√∫c database schema, t·∫°o tables, indexes, constraints v√† relationships.</p>
                
                <h4>üîß Database Technologies:</h4>
                <ul>
                    <li>PostgreSQL 15 v·ªõi Alpine Linux</li>
                    <li>UUID extension cho unique identifiers</li>
                    <li>ENUM types cho status management</li>
                    <li>JSONB columns cho flexible data</li>
                    <li>Foreign key constraints cho data integrity</li>
                </ul>

                <h4>üóÇÔ∏è Key Tables & Relationships:</h4>
                
                <div class="folder-structure">
Database Schema Relationships:

departments (1) -----> (N) users
    ‚Üì
    (1) -----> (N) services
    ‚Üì
    (1) -----> (N) queue_tickets

users (1) -----> (N) service_sessions
queue_tickets (1) -----> (N) feedback
queue_tickets (1) -----> (N) ticket_complaints
                </div>

                <h4>üìã Core Tables:</h4>
                <ul>
                    <li><strong>departments:</strong> Organizational units (Ph√≤ng D√¢n S·ªë, Ph√≤ng T√†i Ch√≠nh, etc.)</li>
                    <li><strong>users:</strong> Staff, managers, admins v·ªõi role-based access</li>
                    <li><strong>services:</strong> D·ªãch v·ª• ƒë∆∞·ª£c cung c·∫•p b·ªüi m·ªói department</li>
                    <li><strong>queue_tickets:</strong> Main entity cho queue management</li>
                    <li><strong>feedback:</strong> Customer ratings v√† reviews</li>
                    <li><strong>service_sessions:</strong> Staff work sessions</li>
                </ul>

                <h4>‚ö° Key Features:</h4>
                <div class="code-block">
-- ENUM Types cho type safety
CREATE TYPE user_role AS ENUM ('admin', 'manager', 'staff');
CREATE TYPE ticket_status AS ENUM ('waiting', 'called', 'completed', 'no_show');
CREATE TYPE ticket_priority AS ENUM ('normal', 'high', 'elderly', 'disabled', 'vip');

-- Core Tables v·ªõi relationships
CREATE TABLE departments (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    code VARCHAR(10) UNIQUE NOT NULL,
    qr_code_token UUID DEFAULT uuid_generate_v4(),
    max_concurrent_customers INTEGER DEFAULT 50,
    operating_hours JSONB,  -- Flexible scheduling
    is_active BOOLEAN DEFAULT TRUE
);

CREATE TABLE queue_tickets (
    id SERIAL PRIMARY KEY,
    ticket_number VARCHAR(20) UNIQUE NOT NULL,
    customer_name VARCHAR(100) NOT NULL,
    service_id INTEGER NOT NULL REFERENCES services(id),
    department_id INTEGER NOT NULL REFERENCES departments(id),
    status ticket_status DEFAULT 'waiting',
    priority ticket_priority DEFAULT 'normal',
    queue_position INTEGER,
    estimated_wait_time INTEGER,  -- minutes
    actual_wait_time INTEGER,     -- calculated after completion
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    called_at TIMESTAMP,
    completed_at TIMESTAMP
);
                </div>

                <div class="info-box">
                    <strong>üí° Database Design Principles:</strong> 
                    <ul>
                        <li>Normalization ƒë·ªÉ tr√°nh data duplication</li>
                        <li>ENUM types cho data consistency</li>
                        <li>JSONB cho flexible configuration</li>
                        <li>Timestamps cho audit trail</li>
                        <li>UUID tokens cho QR code security</li>
                    </ul>
                </div>
            </div>

            <div class="file-section">
                <div class="file-path">database/data.sql</div>
                <h4>üéØ M·ª•c ƒë√≠ch:</h4>
                <p>Sample data v√† initial setup cho development v√† testing.</p>
                
                <h4>üìä Sample Data Includes:</h4>
                <ul>
                    <li>Default admin user</li>
                    <li>Sample departments (Ph√≤ng D√¢n S·ªë, Ph√≤ng T√†i Ch√≠nh)</li>
                    <li>Common services cho m·ªói department</li>
                    <li>Test tickets cho development</li>
                </ul>

                <div class="warning-box">
                    <strong>‚ö†Ô∏è Development Only:</strong> File n√†y ch·ªâ d√πng cho development environment, kh√¥ng deploy l√™n production v·ªõi sample data.
                </div>
            </div>

            <h3>üê≥ Docker Configuration</h3>

            <div class="file-section">
                <div class="file-path">docker-compose.yml</div>
                <h4>üéØ M·ª•c ƒë√≠ch:</h4>
                <p>Orchestrate multi-container application v·ªõi t·∫•t c·∫£ services c·∫ßn thi·∫øt.</p>
                
                <h4>üê≥ Services Architecture (Th·ª±c t·∫ø):</h4>
                <div class="folder-structure">
Docker Services Network:

‚îå‚îÄ‚îÄ‚îÄ frontend:3000 (React Dev Server) ‚îÄ‚îÄ‚îÄ‚îê
‚îú‚îÄ‚îÄ‚îÄ backend:8000 (FastAPI)              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ db:5433 (PostgreSQL)                ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ redis:6379 (Cache/WebSocket)        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ queue-network (Bridge)              ‚îÇ

Note: Project KH√îNG s·ª≠ d·ª•ng nginx!
Frontend v√† Backend expose tr·ª±c ti·∫øp ports.
                </div>

                <h4>üîß Key Configuration:</h4>
                <ul>
                    <li><strong>Direct Port Exposure:</strong> Frontend:3000, Backend:8000</li>
                    <li><strong>Development Mode:</strong> Both v·ªõi hot reload</li>
                    <li><strong>Network Isolation:</strong> All services trong bridge network</li>
                    <li><strong>Volume Persistence:</strong> Database v√† Redis data persist</li>
                    <li><strong>Volume Mounting:</strong> Source code mounted cho development</li>
                </ul>

                <div class="code-block">
services:
  # PostgreSQL Database
  db:
    image: postgres:15-alpine
    ports:
      - "5433:5432"  # External:Internal
    volumes:
      - postgres_data:/var/lib/postgresql/data
      - ./database/schema.sql:/docker-entrypoint-initdb.d/01_schema.sql
      - ./database/data.sql:/docker-entrypoint-initdb.d/02_data.sql

  # Redis Cache & WebSocket Session Store  
  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data

  # FastAPI Backend
  backend:
    build: ./backend
    ports:
      - "8000:8000"  # Direct exposure, no nginx
    environment:
      - DATABASE_URL=postgresql://admin:password@db:5432/queue_managment
      - REDIS_URL=redis://redis:6379
      - CORS_ORIGINS=http://localhost:3000  # Allow frontend access
    volumes:
      - ./backend:/app  # Hot reload for development
    command: uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload

  # React Frontend (Development Server)
  frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile.dev  # Development dockerfile
    ports:
      - "3000:3000"  # React dev server port
    environment:
      - REACT_APP_API_URL=http://localhost:8000/api/v1  # Direct backend access
      - REACT_APP_WS_URL=ws://localhost:8000/ws
      - CHOKIDAR_USEPOLLING=true  # For file watching in Docker
    volumes:
      - ./frontend:/app  # Hot reload for development
      - /app/node_modules  # Exclude node_modules from mount
                </div>

                <div class="info-box">
                    <strong>üí° Development vs Production:</strong>
                    <ul>
                        <li><strong>Current Setup:</strong> Development mode v·ªõi hot reload v√† direct port exposure</li>
                        <li><strong>Production would need:</strong> Reverse proxy (nginx/traefik), static builds, CDN</li>
                        <li><strong>CORS:</strong> Backend explicitly allows frontend origin</li>
                        <li><strong>Direct Communication:</strong> Frontend g·ªçi tr·ª±c ti·∫øp backend:8000</li>
                    </ul>
                </div>

                <div class="success-box">
                    <strong>‚úÖ Cleanup ho√†n th√†nh:</strong> Nginx files ƒë√£ ƒë∆∞·ª£c x√≥a kh·ªèi project. Architecture gi·ªù ƒë√¢y clean v√† accurate cho development setup.
                </div>
            </div>
        </section>

        <section id="so-do">
            <h2>üìä 4. S∆° ƒê·ªì Workflow & Ki·∫øn Tr√∫c</h2>

            <div class="workflow-diagram">
                <h3>üèóÔ∏è Ki·∫øn Tr√∫c T·ªïng Quan (Th·ª±c t·∫ø)</h3>
                <div class="component-flow">
                    <div class="component">üë§ User Browser</div>
                    <span class="arrow">‚Üí</span>
                    <div class="component">‚öõÔ∏è React Frontend:3000</div>
                    <span class="arrow">‚Üî</span>
                    <div class="component">üöÄ FastAPI Backend:8000</div>
                    <span class="arrow">‚Üî</span>
                    <div class="component">üóÑÔ∏è PostgreSQL:5433</div>
                </div>
                <div class="component-flow">
                    <div class="component">üì¶ Redis:6379</div>
                    <span class="arrow">‚Üî</span>
                    <div class="component">üîå WebSocket</div>
                    <span class="arrow">‚Üî</span>
                    <div class="component">üì± Real-time Updates</div>
                </div>
                <p style="text-align: center; margin-top: 15px; font-style: italic; color: #666;">
                    ‚ö†Ô∏è No nginx reverse proxy - Direct port exposure cho development
                </p>
            </div>

            <div class="workflow-diagram">
                <h3>üîÑ User Authentication Flow</h3>
                <ol>
                    <li>User nh·∫≠p email/password v√†o Login form</li>
                    <li>Frontend g·ª≠i POST request ƒë·∫øn <code>/api/v1/auth/login</code></li>
                    <li>Backend validate credentials v·ªõi database</li>
                    <li>N·∫øu h·ª£p l·ªá, backend tr·∫£ v·ªÅ JWT token v√† user info</li>
                    <li>Frontend l∆∞u token v√†o localStorage v√† update AuthContext</li>
                    <li>User ƒë∆∞·ª£c redirect ƒë·∫øn dashboard ph√π h·ª£p v·ªõi role</li>
                </ol>
            </div>

            <div class="workflow-diagram">
                <h3>üé´ Ticket Creation Flow</h3>
                <ol>
                    <li>Customer ch·ªçn service t·∫°i Service Registration page</li>
                    <li>Frontend g·ª≠i POST request ƒë·∫øn <code>/api/v1/tickets</code></li>
                    <li>Backend t·∫°o ticket m·ªõi trong database</li>
                    <li>Backend broadcast update qua WebSocket</li>
                    <li>T·∫•t c·∫£ connected clients nh·∫≠n ƒë∆∞·ª£c queue update</li>
                    <li>QR code ƒë∆∞·ª£c generate cho ticket</li>
                    <li>Customer ƒë∆∞·ª£c redirect ƒë·∫øn Waiting page</li>
                </ol>
            </div>

            <div class="workflow-diagram">
                <h3>üì° Real-time Communication Flow</h3>
                <div class="component-flow">
                    <div class="component">üñ•Ô∏è Staff Dashboard</div>
                    <span class="arrow">‚Üí</span>
                    <div class="component">üì§ Call Ticket</div>
                    <span class="arrow">‚Üí</span>
                    <div class="component">üöÄ Backend</div>
                    <span class="arrow">‚Üí</span>
                    <div class="component">üì¶ Redis</div>
                </div>
                <div class="component-flow">
                    <div class="component">üîå WebSocket Manager</div>
                    <span class="arrow">‚Üí</span>
                    <div class="component">üì∫ Public Display</div>
                    <span class="arrow">+</span>
                    <div class="component">‚è≥ Waiting Pages</div>
                </div>
            </div>

            <div class="workflow-diagram">
                <h3>üê≥ Docker Container Communication (Th·ª±c t·∫ø)</h3>
                <div class="folder-structure">
queue-network (Docker Network)
‚îÇ
‚îú‚îÄ‚îÄ frontend:3000 ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí backend:8000 (API calls)
‚îÇ                        ‚îî‚îÄ‚îÄ‚Üí backend:8000/ws (WebSocket)
‚îÇ
‚îú‚îÄ‚îÄ backend:8000 ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí db:5432 (Database queries)
‚îÇ               ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí redis:6379 (Cache & Sessions)
‚îÇ
‚îú‚îÄ‚îÄ db:5433 (External) ‚Üí db:5432 (Internal)
‚îÇ   ‚îî‚îÄ‚îÄ Volume: postgres_data
‚îÇ
‚îî‚îÄ‚îÄ redis:6379
    ‚îî‚îÄ‚îÄ Volume: redis_data

Development Setup:
- Frontend: React dev server v·ªõi hot reload
- Backend: FastAPI v·ªõi --reload flag
- No reverse proxy needed
                </div>
            </div>

            <div class="info-box">
                <h4>üîç Key Architecture Patterns:</h4>
                <ul>
                    <li><strong>Microservices:</strong> T√°ch bi·ªát frontend, backend, database th√†nh c√°c services ƒë·ªôc l·∫≠p</li>
                    <li><strong>Direct Communication:</strong> Frontend g·ªçi tr·ª±c ti·∫øp backend API th√¥ng qua port 8000</li>
                    <li><strong>Real-time Communication:</strong> WebSocket cho instant updates</li>
                    <li><strong>Caching Layer:</strong> Redis cache frequently accessed data</li>
                    <li><strong>Container Orchestration:</strong> Docker Compose manage multi-container deployment</li>
                </ul>
            </div>

            <div class="warning-box">
                <h4>‚ö†Ô∏è Critical Dependencies:</h4>
                <ul>
                    <li>Backend depends on Database v√† Redis - kh√¥ng th·ªÉ ho·∫°t ƒë·ªông standalone</li>
                    <li>Frontend requires Backend API - kh√¥ng c√≥ data m√† kh√¥ng c√≥ backend</li>
                    <li>Real-time features require WebSocket connection</li>
                    <li>Authentication flow require c·∫£ Frontend v√† Backend coordination</li>
                </ul>
            </div>
        </section>

        <section id="cleanup">
            <h2>üßπ 5. Project Cleanup & Optimization</h2>

            <div class="success-box">
                <h4>‚úÖ Files ƒê√£ ƒê∆∞·ª£c X√≥a (Cleanup Completed):</h4>
                <ul>
                    <li><strong>nginx/</strong> - To√†n b·ªô directory (kh√¥ng ƒë∆∞·ª£c s·ª≠ d·ª•ng trong docker-compose)</li>
                    <li><strong>frontend/src/AppRoutes.js</strong> - Duplicate file (s·ª≠ d·ª•ng routes/AppRoutes.js)</li>
                    <li><strong>frontend/src/features/auth/pages/Login.js</strong> - Unused component</li>
                    <li><strong>frontend/src/features/auth/pages/LoginPage.js</strong> - Unused component</li>
                    <li><strong>frontend/src/shared/services/websocket-client-example.js</strong> - Example code</li>
                    <li><strong>frontend/src/shared/websocket.js</strong> - Redundant v·ªõi WebSocketContext</li>
                    <li><strong>frontend/src/shared/useTicketWebSocket.js</strong> - Unused custom hook</li>
                    <li><strong>frontend/src/shared/useQueueWebSocket.js</strong> - Unused custom hook</li>
                    <li><strong>frontend/src/shared/components/layout/Layout.js</strong> - Duplicate component</li>
                    <li><strong>frontend/src/shared/components/layout/PageTransitionWrapper.js</strong> - Duplicate</li>
                    <li><strong>frontend/src/shared/components/PageTransitionWrapper.js</strong> - Duplicate</li>
                </ul>
            </div>

            <div class="info-box">
                <h4>üéØ Benefits C·ªßa Cleanup:</h4>
                <ul>
                    <li><strong>Cleaner Codebase:</strong> Lo·∫°i b·ªè confusion v·ªõi duplicate/unused files</li>
                    <li><strong>Accurate Documentation:</strong> Architecture diagrams ph·∫£n √°nh ƒë√∫ng th·ª±c t·∫ø</li>
                    <li><strong>Better Maintainability:</strong> Developers kh√¥ng b·ªã confusion v·ªõi unused code</li>
                    <li><strong>Space Saved:</strong> ~1MB code v√† 10+ files unnecessary ƒë∆∞·ª£c remove</li>
                </ul>
            </div>

            <div class="concept-box">
                <h4>üìä Final Project Structure (Post-Cleanup):</h4>
                <pre style="background: #2c3e50; color: #ecf0f1; padding: 15px; border-radius: 5px; overflow-x: auto;">
queue-management-system/
‚îú‚îÄ‚îÄ backend/                    # FastAPI Backend
‚îÇ   ‚îú‚îÄ‚îÄ app/                    # Main application
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/v1/             # API routes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ core/               # Config, database, security
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ domains/            # Business logic by domain
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/             # SQLAlchemy models
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schemas/            # Pydantic schemas
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ services/           # Business services
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ frontend/                   # React Frontend  
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ features/           # Feature-based components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/             # React Router (AppRoutes.js)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ shared/             # Shared utilities
‚îÇ   ‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ database/                   # SQL scripts
‚îú‚îÄ‚îÄ docker-compose.yml          # Orchestration (NO nginx service)
‚îî‚îÄ‚îÄ ƒê·ªçc hi·ªÉu/                  # ‚ú® Documentation
    ‚îú‚îÄ‚îÄ T√†i li·ªáu.html           # This comprehensive docs
    ‚îú‚îÄ‚îÄ Mock_Interview.md       # Interview questions
    ‚îî‚îÄ‚îÄ CLEANUP_REPORT.md       # Cleanup analysis
                </pre>
            </div>
        </section>

        <div style="margin-top: 50px; padding: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 10px; text-align: center;">
            <h3>üéØ T·ªïng K·∫øt</h3>
            <p>Queue Management System l√† m·ªôt full-stack application hi·ªán ƒë·∫°i s·ª≠ d·ª•ng React frontend, FastAPI backend, PostgreSQL database, v√† Docker ƒë·ªÉ containerization. H·ªá th·ªëng cung c·∫•p real-time queue management v·ªõi WebSocket, role-based authentication, v√† responsive UI. Project ƒë√£ ƒë∆∞·ª£c cleanup ƒë·ªÉ lo·∫°i b·ªè unused files v√† ensure accuracy trong documentation.</p>
        </div>
    </div>
</body>
</html>